# 用户管理体系说明

## 服务类型

每个逻辑节点类都会注册自己可以承载的服务类型，例如，某逻辑节点类通过如下语句声明自己可以承载 IOS 和 Android 两种服务类型
```js
    static get mapping() {
        this.$mapping = ['CoreOfLogicIOS', 'CoreOfLogicAndroid'];
        return this.$mapping;
    }
```
进程管理程序在 gameconfig 中读取即将运行的节点列表，根据配置中的 serverType 字段，反向寻找合适的逻辑节点类进行实例化

注：敏感信息如数据库连接串配置于 gameconfig.js 中(git库中只维护样本文件gameconfig-backup.js)，本机实际运行节点信息(包括 serverType)配置于 pm2.config.js 中

## 用户注册

```js
//连接器填充注册用户信息
connector.setUserInfo({
    domain:         'CoreOfWallet',    //登录域，设定准备访问的业务类型
    openid:         'authwx.111',      //验证域，包括验证方式和其下用户唯一标识，对微信公众号而言就是code字符串，服务端收到串后，再次访问微信服务端，即可取到真正的 openid 和 unionid
    openkey:        '111'              //验证码，和 openid 配套使用，可用于单步验证阶段
    auth:           {},
});
```
